#!/usr/bin/env bash

hugo_root="$(dirname "$0")"
logfile="$hugo_root"/push.log

echo "---------------------------------" >> "$logfile"

cd "$hugo_root" && echo "cd'd into $hugo_root" >> "$logfile"

git pull --commit --no-edit &>> "$logfile"
git add . &>> "$logfile"
git commit --all --message "./push: new content" &>> "$logfile"
git push origin main &>> "$logfile"

echo "New content pushed to GitHub!" | tee -a "$logfile"
